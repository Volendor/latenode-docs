---
url: "https://docs.nodul.ru/docs/9e759d38-bb3c-436c-ab52-b9b1f4916d17/"
title: "12.02 Использование связей с условиями фильтрации | Nodul"
---

примечание

[Ссылка на шаблон сценария](https://app.nodul.ru/shared-scenarios/6671ccdb126ed590cdf1c412)

В качестве примера создадим сценарий, в котором будет генерироваться случайное число от 0 до 20, а итогом выполнения сценария будет являться одно из двух сообщений:

- _“Переданное значение больше 10”_ \- если сгенерированное число больше 10;

- _“Переданное значение меньше или равно 10”_ \- если сгенерированное число меньше или равно 1000.

Для успешной работы сценария необходимо добавить 4 узла и две связи, содержащие условия фильтрации:

![](https://docs.nodul.ru/img/notion/f8ded020-d1b4-4dba-82df-0b0a4e48fce5/Untitled.png)

- **(** **1** **)** Узел **Trigger on Run once** для запуска сценария по нажатию на кнопку **Запустить один раз**;

- **(** **2** **)** Узел **JavaScript** с кодом для генерации случайного числа от 0 до 20;

```codeBlockLines_e6Vv
export default async function run({execution_id, input, data, store}) {
    const randomNumber = Math.floor(Math.random() * 20) + 1;

    return {
        randomNumber
    }
}

```

![](https://docs.nodul.ru/img/notion/c7b75d1c-ac1d-4884-a99f-94106530f822/Untitled.png)

- **(** **3** **)** Узел **Webhook Response** “Больше 10”, возвращающий сообщение _“Значение больше 10”_;

![](https://docs.nodul.ru/img/notion/573e55a2-05ab-4c03-bf05-f26c2d2ff87e/Untitled.png)

- **(** **4** **)** Связь узла **JavaScript** и узла **Webhook Response** “Больше 10” с установленным условием фильтрации {{$2.randomNumber > 10}};

![](https://docs.nodul.ru/img/notion/9ce5b862-6a34-4c95-beb6-93967d0a989c/Untitled.png)

- **(** **5** **)** Узел **Webhook Response** “Меньше 10”, возвращающий сообщение _“Значение меньше или равно 10”_;

![](https://docs.nodul.ru/img/notion/3c5fae27-ad8d-4e47-8bb7-34ff157acfe2/Untitled.png)

- **(** **6** **)** Связь узла **JavaScript** и узла **Webhook Response** “Меньше 1000” с установленным условием фильтрации {{$2.randomNumber <= 10}};

![](https://docs.nodul.ru/img/notion/f8371833-1ee9-4b47-bc71-63623cb379ff/Untitled.png)

Результатом выполнение сценария является соответствующее значению сообщение:

- Если сгенерированное число меньше или равно 10, выполнение сценария идет по связи “Значение меньше или равно 1000” и ответ на выполнение сценария отправляет узел **Webhook Response** “Меньше 1000”;

- Если сгенерированное число больше 10, выполнение сценария идет по связи “Значение больше 1000” и ответ на выполнение сценария отправляет узел **Webhook Response** “Больше 1000”.