---
url: "https://docs.nodul.ru/docs/df66b495-5dc9-4558-a741-4593be95a196/"
title: "01.1.1 Основные понятия и принципы работы платформы | Nodul"
---

Содержание этой страницы

## Принципы работы API [​](https://docs.nodul.ru/docs/df66b495-5dc9-4558-a741-4593be95a196/\#%D0%BF%D1%80%D0%B8%D0%BD%D1%86%D0%B8%D0%BF%D1%8B-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-api "Прямая ссылка на Принципы работы API")

Большинство сервисов предоставляют API, обращаясь к которым, можно получить нужные данные или выполнить требуемую функцию. Концепция использования API заключается в том, что два сервиса или два приложения общаются друг с другом, отсылая запросы и получая ответы.

Платформа Nodul может являться источником запросов к множеству сторонних сервисов или приложений. Например, в несколько кликов можно настроить отправку писем пользователю с помощью сервиса Gmail. При этом параметры письма можно настраивать, а содержание письма генерировать в самой платформе Nodul.

### Сценарий как способ автоматизации [​](https://docs.nodul.ru/docs/df66b495-5dc9-4558-a741-4593be95a196/\#%D1%81%D1%86%D0%B5%D0%BD%D0%B0%D1%80%D0%B8%D0%B9-%D0%BA%D0%B0%D0%BA-%D1%81%D0%BF%D0%BE%D1%81%D0%BE%D0%B1-%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8 "Прямая ссылка на Сценарий как способ автоматизации")

Механизм или алгоритм, который обеспечивает автоматизацию функции называется сценарий. Он состоит последовательно выстроенных узлов и связей между этими узлами. Каждый из узлов выполняет свое действие \- запускает сценарий, обрабатывает данные или сохраняет их, отправляет запрос с заданными параметрами к стороннему сервису. Каждый из узлов сценария выполняет свое действие только тогда, когда предыдущий узел закончил свою работу. При этом в узлах могут использоваться данные, сформированные или полученные предыдущими узлами.

![](https://docs.nodul.ru/img/notion/46af31d6-cbe3-412c-a028-efaea225edf6/Untitled.gif)

Все узлы разделяются на две группы:

- Узлы типа **триггер** так или иначе запускают сценарий. В зависимости от узла может проводиться запуск по кнопке, или при передаче данных в сценарий, или по расписанию.

- Узлы типа **действия** прямо выполняют заданную функцию \- сохраняют данные или обрабатывают их, отправляют запрос API к выбранному сервису.

### Узлы типа триггер и передача данных в сценарий [​](https://docs.nodul.ru/docs/df66b495-5dc9-4558-a741-4593be95a196/\#%D1%83%D0%B7%D0%BB%D1%8B-%D1%82%D0%B8%D0%BF%D0%B0-%D1%82%D1%80%D0%B8%D0%B3%D0%B3%D0%B5%D1%80-%D0%B8-%D0%BF%D0%B5%D1%80%D0%B5%D0%B4%D0%B0%D1%87%D0%B0-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85-%D0%B2-%D1%81%D1%86%D0%B5%D0%BD%D0%B0%D1%80%D0%B8%D0%B9 "Прямая ссылка на Узлы типа триггер и передача данных в сценарий")

Узлы типа триггер также можно разделить на две группы, однако все эти узлы необходимы для запуска сценария тем или иным способом.

К первой группе относятся неспецифичные узлы триггеры:

- Узел **Trigger on Webhook** позволяет запускать сценарий, отправляя запросы на адрес этого узла. При этом запрос может содержать данные, для дальнейшего использования другими узлами сценария. В примере ниже сценарий запускается при отправке JSON с параметром Value на адрес узла сценария **Trigger on Webhook**. Значения параметра Value записывается в глобальную переменную GlVar с помощью узла **SetGlobalVariables**. Значение переменной, в свою очередь возвращает узел **Webhook Response** в качестве итога выполнения сценария. После того как сценарий переведен в активный статус (переключатель Активен внизу интерфейса) доступна отправка запросов без предварительного нажатия на кнопку **Запустить один раз**.

![](https://docs.nodul.ru/img/notion/8287fd76-7033-4163-9cb6-c401fd734978/Untitled.gif)

- Узел **Trigger on Run once** удобен для тестирования составленного сценария и позволяет запускать его по нажатию на кнопку Запустить один раз. Передача данных в сценарий с помощью узла **Trigger on Run once** не доступна. Переводить сценарий в активный статус не обязательно.

![](https://docs.nodul.ru/img/notion/5bef3e64-2d62-44a0-9800-9ec856b1d8fa/Untitled.gif)

- Узел **Trigger on Schedule** позволяет запускать сценарий по расписанию, в нужное время. Передача данных в сценарий с помощью узла **Trigger on Schedule** не доступна. Настройки узла позволяют определить нужное расписание и таймзону. Для того чтобы сценарий отрабатывал раз за разом по установленному расписанию необходимо развернуть сценарий в Prod по кнопке развернуть и убедиться, что сценарий в активном статусе.

![](https://docs.nodul.ru/img/notion/f8e0df65-e398-46ba-a248-ae33f8bf7c49/Untitled.gif)

Вторая группа объединяет в себе узлы триггеры приложений и сервисов. Например, узел **New or Modified Files** запускает сценарий, когда на Google диске изменен существующий файл или добавлен новый. Узел **New Message In Channel** запускает сценарий при отправке сообщения в заданный канал Discord. Для таких узлов тоже необходима необходима настройка авторизации.

## Узлы типа действия для выполнения функций [​](https://docs.nodul.ru/docs/df66b495-5dc9-4558-a741-4593be95a196/\#%D1%83%D0%B7%D0%BB%D1%8B-%D1%82%D0%B8%D0%BF%D0%B0-%D0%B4%D0%B5%D0%B9%D1%81%D1%82%D0%B2%D0%B8%D1%8F-%D0%B4%D0%BB%D1%8F-%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%B9 "Прямая ссылка на Узлы типа действия для выполнения функций")

Узлы типа **действия** в свою очередь делятся на две группы. К первой группе относятся системные узлы. Они необходимы для выполнения условно стандартных действий. Ниже несколько примеров таких узлов:

- узел **JavaScript** для обработки данных или выполнения других функций с помощью кода Javascript. В узел встроен AI ассистент, который помогает сгенерировать нужный код. Для этого необходимо попросить ассистента написать или скорректировать код. Просить ассистента подправить код можно столько раз, сколько это необходимо для достижения результата;

![](https://docs.nodul.ru/img/notion/1e93c557-31d9-4590-b082-f2674517f7f0/Untitled.gif)

- Узлы **SetGlobalVariables**, **GetGlobalVariables**, **SetVariables**, **GetVariables** для сохранения полученных или сгенерированных данных в переменные, а также их получения. Любая переменная доступна к выбору и использованию в следующем узле и в том сценарии, в котором она была создана. Глобальные переменные кроме того могут использоваться в других сценариях;

![](https://docs.nodul.ru/img/notion/9a3c2563-d6a3-4aa7-8d76-38ab80ed2317/Untitled.gif)

- особый узел **Wait**, позволяющий останавливать процесс выполнения сценария на заданный промежуток времени.

![](https://docs.nodul.ru/img/notion/b8f9e80c-909a-481b-b728-059fde78e144/Untitled.gif)

- узел **Headless browser** для парсинга веб сайтов, он будет рассмотрен ниже.

Вторая группа узлов объединяет в себе специфичные узлы. Каждый из этих узлов относится к определенному приложению или сервису и обеспечивает выполнение обособленной функции. Чаще всего для настройки такого узла необходимо заполнить несколько простых параметров. Например, существует узел **Send Mail**, при запуске которого на заданный адрес будет отправлено письмо с нужным содержанием. Или узел **Create single record or update**, при запуске которого будет записана или изменена строка в нужной таблице AirTable. Для таких узлов необходима необходима настройка авторизации.

### Использование кода в узлах [​](https://docs.nodul.ru/docs/df66b495-5dc9-4558-a741-4593be95a196/\#%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BA%D0%BE%D0%B4%D0%B0-%D0%B2-%D1%83%D0%B7%D0%BB%D0%B0%D1%85 "Прямая ссылка на Использование кода в узлах")

Платформа Nodul поддерживает выполнения функций с помощью кода JavaScript. Cуществуют узлы, в которые можно внести или сгенерировать нужный код. Первым таким узлом является узел **JavaScript**, в который встроен AI ассистент. Код в этом узле можно написать самому или с помощью ассистента. Задав вопрос ассистенту, можно получить код, выполняющий заданную функцию и сохранить его в узле.

Вторым узлом является узел **Headless browser**, позволяющий анализировать данные сайта согласно коду узла.